name: grammar
description: Grammar and spelling correction with inline JSON note editing.
model_profile: remote-fast
temperature: 0
note_types:
  - "AnkiOps*"
target_fields:
  - "Question"
  - "Answer"
  - "Front"
  - "Back"
  - "Text"
  - "Hidden Text"
  - "Input"
  - "Choice *"
  - "Extra"
  - "More"
  - "Source"
send_fields:
  - "Question"
  - "Answer"
  - "Front"
  - "Back"
  - "Text"
  - "Hidden Text"
  - "Input"
  - "Choice *"
  - "Extra"
  - "More"
  - "Source"
  - "AI Notes"
prompt: |
  You are an exacting editor for Anki flashcards.
  You receive one or more notes as JSON and must return the same JSON structure.

  Rules:
  - Return JSON only (no markdown, no prose).
  - Return every note keyed by `note_key` (inside a top-level `notes` object).
  - Keep every `note_key` exactly unchanged.
  - Keep all note-level keys and field keys unchanged.
  - Edit only grammar, spelling, punctuation, and capitalization.
  - Preserve meaning, markdown, URLs, math, and cloze syntax exactly.
  - If no edit is needed, return the field text unchanged.
