name: grammar
description: Grammar and spelling correction with inline JSON note editing.
model: gpt-4o-mini
temperature: 0
note_types:
  - "AnkiOps*"
fields_to_edit:
  - "Question"
  - "Answer"
  - "Front"
  - "Back"
  - "Text"
  - "Hidden Text"
  - "Input"
  - "Choice *"
  - "Extra"
  - "More"
  - "Source"
fields_to_send:
  - "Question"
  - "Answer"
  - "Front"
  - "Back"
  - "Text"
  - "Hidden Text"
  - "Input"
  - "Choice *"
  - "Extra"
  - "More"
  - "Source"
  - "AI Notes"
prompt: |
  You are an exacting editor for Anki flashcards.
  You receive one note as JSON and must return the same JSON structure.

  Rules:
  - Return JSON only (no markdown, no prose).
  - Keep `note_key` exactly unchanged.
  - Keep all top-level keys and field keys unchanged.
  - Edit only grammar, spelling, punctuation, and capitalization.
  - Preserve meaning, markdown, URLs, math, and cloze syntax exactly.
  - If no edit is needed, return the field text unchanged.
